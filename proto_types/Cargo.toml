[package]
name = "proto-types"
version = "0.1.1"

description = "Rust types generated from the google.protobuf and buf.validate protobuf packages, plus extra helpers for implementing validation with the protocheck crate."

keywords = { workspace = true }
edition = { workspace = true }
license = { workspace = true }
authors = { workspace = true }
repository = { workspace = true }

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]

[dependencies]
quote = { workspace = true, optional = true }
proc-macro2 = { workspace = true, optional = true }
syn = { workspace = true, optional = true }
paste = { workspace = true }

prost = { workspace = true }
chrono = { workspace = true, optional = true }

serde = { workspace = true, optional = true }
serde_json = { workspace = true, optional = true }
base64 = { workspace = true, optional = true }

cel = { workspace = true, optional = true }
thiserror = { workspace = true }

rust_decimal = { workspace = true, optional = true }
chrono-tz = { version = "0.10.4", optional = true }

palette = { version = "0.7.6", optional = true }

[features]
cel = ["dep:cel"]
serde = ["dep:serde", "dep:serde_json", "dep:base64", "chrono?/serde"]
protocheck = ["dep:quote", "dep:proc-macro2", "dep:syn"]
totokens = ["dep:quote", "dep:proc-macro2"]
chrono = ["dep:chrono", "cel?/chrono"]
chrono-tz = ["dep:chrono-tz"]

all_common = [
  "decimal",
  "color",
  "date",
  "datetime",
  "timeofday",
  "fraction",
  "money",
  "interval",
  "localized_text",
  "postal_address",
  "quaternion",
  "latlng",
  "expr",
  "phone_number",
]

rpc = []
decimal = ["dep:rust_decimal"]
color = []
palette = ["dep:palette"]
date = []
datetime = []
timeofday = []
fraction = []
money = []
interval = []
localized_text = []
postal_address = []
quaternion = []
latlng = []
expr = []
phone_number = []

default = ["chrono"]
